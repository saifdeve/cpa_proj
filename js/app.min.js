function labnolThumb(e) {
    return '<img src="https://i.ytimg.com/vi/ID/hqdefault.jpg">'.replace("ID", e) + '<div class="play"></div>'
}

function labnolIframe() {
    var e = document.createElement("iframe");
    e.setAttribute("src", "https://www.youtube.com/embed/ID?autoplay=1".replace("ID", this.dataset.id)), e.setAttribute("frameborder", "0"), e.setAttribute("allowfullscreen", "1"), this.parentNode.replaceChild(e, this)
}
function redirectToStore() {
    var itemType = $("#myModalLabel").text(); // Utiliser le titre de la modal pour déterminer le type de version
    var url = "";

    if (itemType.includes("iOS Version")) {
        // Rediriger vers l'App Store pour iOS
        url = "https://apps.apple.com/us/app/candy-crush-saga/id553834731"; // Lien App Store pour Candy Crush Saga
    } else if (itemType.includes("Android Version")) {
        // Rediriger vers Google Play pour Android
        url = "https://play.google.com/store/apps/details?id=com.king.candycrushsaga"; // Lien Play Store pour Candy Crush Saga
    } else if (itemType.includes("APK Version")) {
        // Rediriger vers le téléchargement du fichier APK
        url = "https://www.apkpure.com/candy-crush-saga/com.king.candycrushsaga"; // Lien APK pour Candy Crush Saga
    }

    window.location.href = url; // Effectuer la redirection
}

$(".gallery-item").on("click", function() {
    var itemType = $(this).find(".item-name-caption").text();
    var e = $("#myModalLabel"),
        t = $("#showcase-img"),
        l = $("#modal-price-tag"),
        a = $(this).find("img");
    
    e.text("Dragonic: " + $(this).find("#item-name-caption").text());
    l.text($(this).find("#item-price-caption").text());
    t.attr("src", a.attr("src"));

    // Mettre à jour la fonction de redirection basée sur la version sélectionnée
    if (itemType.includes("iOS Version")) {
        $("#shop-modal-hide").attr("onclick", "redirectToStore()");
    } else if (itemType.includes("Android Version")) {
        $("#shop-modal-hide").attr("onclick", "redirectToStore()");
    } else if (itemType.includes("APK Version")) {
        $("#shop-modal-hide").attr("onclick", "redirectToStore()");
    }
});

$(document).ready(function() {
    "use strict";
    $("#dragonic-carousel").swiperight(function() {
        $(this).carousel("prev")
    }), $("#dragonic-carousel").swipeleft(function() {
        $(this).carousel("next")
    }), $(function() {
        $('a[href^="#"]').not('[href="#dragonic-carousel"]').on("click", function(e) {
            e.preventDefault();
            var t = this.hash,
                l = $(t);
            $("html, body").stop().animate({
                scrollTop: l.offset().top
            }, 900, "swing")
        })
    }), $(".gallery-item").on("click", function() {
        var e = $("#myModalLabel"),
            t = $("#showcase-img"),
            l = $("#modal-price-tag"),
            a = ($("#modalBody"), $(this).find("img"));
        $("#model-feats").find("li");
        e.text("Dragonic: " + $(this).find("#item-name-caption").text()), l.text($(this).find("#item-price-caption").text()), t.attr("src", a.attr("src"))
    }), $("div#item-1, div#item-2, div#item-3").on("click", function() {
        $("img.img-thumbnail").addClass("thumb-50"), $("ul#model-feats").addClass("hide")
    }), $("article.thumbnail-100").on("click", function() {
        $("img#showcase-img").removeClass("thumb-50"), $("ul#model-feats").removeClass("hide")
    }), $(".features-item").on("click", function() {
        var e = $("#myModalLabel"),
            t = $("#showcase-img"),
            l = $("#modal-price-tag"),
            a = ($("#modalBody"), $(this).find("img")),
            s = $("#model-feats").find("li");
        e.text("Hero Name: " + $(this).find(".item-name-caption").text()), l.text($(this).find(".item-price-caption").text()), t.attr("src", a.attr("src")), $(s[0]).text("Strength: " + a.data("strength")), $(s[1]).text("Dexterity: " + a.data("dexterity")), $(s[2]).text("Agility: " + a.data("agility")), $(s[3]).text("Willpower: " + a.data("willpower")), $(s[4]).text("Intelligence: " + a.data("intelligence"))
    }), $("#shop-modal-hide").on("click", function() {
        $("#shop-modal").modal("hide")
    });
    var e = new GMaps({
            div: "#gmaps",
            lat: 37.9838096,
            lng: 23.7275388,
            zoom: 14
        }),
        t = [{
            featureType: "administrative",
            elementType: "labels.text.fill",
            stylers: [{
                color: "#ffcc88"
            }]
        }, {
            featureType: "administrative",
            elementType: "labels.text.stroke",
            stylers: [{
                color: "#331111"
            }]
        }, {
            featureType: "administrative.country",
            elementType: "geometry",
            stylers: [{
                visibility: "on"
            }]
        }, {
            featureType: "administrative.province",
            elementType: "geometry.stroke",
            stylers: [{
                visibility: "off"
            }]
        }, {
            featureType: "administrative.province",
            elementType: "labels.text",
            stylers: [{
                weight: "0.01"
            }, {
                saturation: "0"
            }, {
                color: "#ffcc88"
            }, {
                visibility: "simplified"
            }]
        }, {
            featureType: "administrative.locality",
            elementType: "labels.text",
            stylers: [{
                visibility: "on"
            }]
        }, {
            featureType: "administrative.locality",
            elementType: "labels.text.stroke",
            stylers: [{
                visibility: "on"
            }, {
                weight: "2.00"
            }]
        }, {
            featureType: "administrative.neighborhood",
            elementType: "labels.text",
            stylers: [{
                visibility: "on"
            }]
        }, {
            featureType: "administrative.land_parcel",
            elementType: "labels.text",
            stylers: [{
                visibility: "off"
            }]
        }, {
            featureType: "landscape.man_made",
            elementType: "all",
            stylers: [{
                color: "#331111"
            }, {
                gamma: 1.57
            }]
        }, {
            featureType: "landscape.man_made",
            elementType: "labels.text",
            stylers: [{
                visibility: "on"
            }]
        }, {
            featureType: "landscape.man_made",
            elementType: "labels.text.fill",
            stylers: [{
                visibility: "on"
            }]
        }, {
            featureType: "landscape.natural",
            elementType: "all",
            stylers: [{
                color: "#331111"
            }, {
                gamma: 1.39
            }]
        }, {
            featureType: "poi",
            elementType: "geometry",
            stylers: [{
                color: "#331111"
            }, {
                gamma: 1.22
            }]
        }, {
            featureType: "poi",
            elementType: "labels.text.fill",
            stylers: [{
                color: "#ffcc88"
            }, {
                visibility: "on"
            }]
        }, {
            featureType: "poi",
            elementType: "labels.text.stroke",
            stylers: [{
                color: "#331111"
            }, {
                weight: 2.6
            }]
        }, {
            featureType: "poi",
            elementType: "labels.icon",
            stylers: [{
                visibility: "simplified"
            }, {
                lightness: -100
            }, {
                gamma: 1
            }, {
                saturation: -72
            }, {
                weight: .1
            }]
        }, {
            featureType: "road",
            elementType: "geometry",
            stylers: [{
                color: "#331111"
            }]
        }, {
            featureType: "road",
            elementType: "labels.text.fill",
            stylers: [{
                color: "#ffcc88"
            }]
        }, {
            featureType: "road",
            elementType: "labels.text.stroke",
            stylers: [{
                color: "#331111"
            }]
        }, {
            featureType: "transit",
            elementType: "geometry",
            stylers: [{
                color: "#331111"
            }]
        }, {
            featureType: "transit.station.airport",
            elementType: "labels.text.fill",
            stylers: [{
                color: "#331111"
            }, {
                gamma: "2"
            }]
        }, {
            featureType: "transit.station.airport",
            elementType: "labels.text.stroke",
            stylers: [{
                color: "#331111"
            }]
        }, {
            featureType: "transit.station.airport",
            elementType: "labels.icon",
            stylers: [{
                visibility: "on"
            }]
        }, {
            featureType: "water",
            elementType: "all",
            stylers: [{
                color: "#331111"
            }]
        }, {
            featureType: "water",
            elementType: "labels.text.fill",
            stylers: [{
                color: "#331111"
            }, {
                gamma: "1.50"
            }]
        }, {
            featureType: "water",
            elementType: "labels.text.stroke",
            stylers: [{
                weight: "2"
            }]
        }];
    e.setOptions({
        styles: t
    }), e.addMarker({
        lat: 37.9838096,
        lng: 23.7275388,
        title: "Athens HQ",
        infoWindow: {
            content: "<p>Our headquarters and main workshop situated in beautiful Athens &hearts; Come see us!</p>"
        }
    })
}), document.addEventListener("DOMContentLoaded", function() {
    var e, t, l = document.getElementsByClassName("youtube-player");
    for (t = 0; t < l.length; t++)(e = document.createElement("div")).setAttribute("data-id", l[t].dataset.id), e.innerHTML = labnolThumb(l[t].dataset.id), e.onclick = labnolIframe, l[t].appendChild(e)
}), $(window).resize(function() {
    var e = $(window).width();
    e >= 300 && e <= 1024 ? ($("#item-1, #item-2, #item-3").removeClass("col-sm-3 col-xs-5").addClass("col-sm-5 col-xs-12"), $("#features-item").removeClass("col-md-3").addClass("col-md-6"), $("#item-3").removeClass("col-sm-offset-1").addClass("col-sm-offset-3"), $("#item-2").removeClass("col-xs-offset-2").addClass("col-xs-offset-0")) : ($("#item-1, #item-2, #item-3").removeClass("col-sm-5 col-xs-12").addClass("col-sm-3 col-xs-5"), $("#features-item").removeClass("col-md-6").addClass("col-md-3"), $("#item-3").removeClass("col-sm-offset-3").addClass("col-sm-offset-1"), $("#item-2").removeClass("col-xs-offset-0").addClass("col-xs-offset-2"))
}).resize(), document.addEventListener("gesturestart", function(e) {
    e.preventDefault()
});